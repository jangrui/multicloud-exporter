fullname: multicloud-exporter
replicaCount: 1

image:
  registry: 
  repository: 
  tag: 
  pullPolicy: IfNotPresent

service:
  port: 9101
  type: ClusterIP
  nodePort:

headless:
  enabled: false
  name: ""

serviceMonitor:
  enabled: false
  labels: {}
  scheme: http
  interval: "60s"
  scrapeTimeout: "30s"
  metricRelabelings: []
  relabelings: []

hpa:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70

probes:
  liveness:
    enabled: true
    path: /healthz
    initialDelaySeconds: 20
    periodSeconds: 10
    timeoutSeconds: 2
    failureThreshold: 3
  readiness:
    enabled: true
    path: /metrics
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 2
    failureThreshold: 3

cluster:
  discovery: "" # values: headless|file|""
  svcName: ""   # required when discovery=headless
  file: ""      # required when discovery=file
  
  # Static sharding configuration (alternative to discovery)
  # When running in static mode (discovery=""), you can manually assign shards.
  # This maps to EXPORT_SHARD_TOTAL and EXPORT_SHARD_INDEX env vars.
  sharding:
    enabled: false
    total: 1
    index: 0

# 环境变量覆盖（按需）：如果设置将覆盖 server.yaml 中的对应配置
# - EXPORTER_PORT: 监听端口；默认 9101
# - SCRAPE_INTERVAL: 采集间隔；支持 "60s", "1m" 等
env: {}
#  EXPORTER_PORT: "9101"
#  SCRAPE_INTERVAL: "60s"

security:
  adminSecretName: ""

accounts:
  # 分组式账号（推荐）：按云平台拆分，模板将生成 grouped 结构的 accounts.yaml
  grouped:
    aliyun: []
    #   - name: aliyun-acc-0
    #     regions: ["*"]
    #     resources: ["bwp", "clb", "s3", "alb", "nlb", "gwlb"]
    tencent: []
    #   - name: tencent-acc-0
    #     regions: ["*"]
    #     resources: ["clb", "bwp", "s3"]
    huawei: []
    #   - name: huawei-acc-0
    #     regions: ["*"]
    #     resources: ["bwp"]
    aws: []
    #   - name: aws-acc-0
    #     # AWS 的 S3 采集使用全局接口（ListBuckets），regions 可留空或使用 ["*"]
    #     regions: ["*"]
    #     resources: ["s3"]

resources: {}

nodeSelector: {}

tolerations: []

affinity: {}

reloader:
  enabled: true
  useAuto: false
