# 多云监控产品功能规划

## 基础框架

- [x] 多云平台支持
- [x] 按账号采集
- [x] Prometheus 指标注册与暴露 /metrics
- [x] API 请求计数与时延指标
- [x] 环境变量控制端口/采集间隔
- [x] Helm 基本模板
- [ ] 统一指标名称
- [ ] 多云平台自动发现
  - [x] bwp - 共享带宽
- [x] 缓存刷新策略（DiscoveryRefresh）
- [ ] 统一限速与重试策略
- [ ] 测试覆盖（单元/集成）
- [ ] 文档与示例完善（各云 products/accounts）

## 阿里云（Aliyun）

- [x] 阿里云区域自动发现
- [x] 资源ID缓存与 TTL
- [x] 命名空间指标动态注册与命名清洗
- [x] 共享带宽包命名空间指标采集（acs_bandwidth_package）
- [x] 共享带宽包资源枚举与分页
- [x] ECS
- [x] CBWP
- [ ] SLB

## 腾讯云（Tencent）

- [ ] CVM
- [ ] CLB
- [ ] BWP

## 华为云（Huawei）

- [x] ECS
- [ ] ELB

## 配置与部署

- [x] 环境变量覆盖配置路径（SERVER_PATH/PRODUCTS_PATH/ACCOUNTS_PATH）
- [x] 容器化部署（Dockerfile/Helm Chart）
- [ ] README 支持矩阵与使用示例更新

## 可观测性与安全

- [x] 采集阶段日志（账号/区域开始结束、枚举/拉取点数）
- [x] 环境占位符展开，避免明文凭证
- [ ] 错误分类统一（鉴权/网络/参数），多云对齐
- [ ] 指标命名/标签一致性校验（跨云）
- [ ] 最小权限账号与权限模板建议

## 里程碑

- P0：补齐产品配置驱动；腾讯 CVM/BWP/CLB、华为 ECS/ELB 基础采集
- P1：区域自动发现与缓存统一；命名空间映射与限速/重试策略；API 统计统一
- P2：数据库/缓存/网络/存储覆盖；远端 Prom 推送与鉴权；部署与文档完善

最后更新日期：2025-12-03
